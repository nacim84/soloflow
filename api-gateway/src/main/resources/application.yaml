claudeserver:
  port: 8080
  tomcat:
    threads:
      max: 200
    connection-timeout: 20000ms

spring:
  application:
    name: api-gateway

  # Database configuration moved to profile-specific files:
  # - application-dev.yaml (local development)
  # - application-prod.yaml (production with environment variables)
  # Use: --spring.profiles.active=dev or --spring.profiles.active=prod

  cloud:
    gateway:
      mvc:
        routes:
          # API Template Service (Timesheet & Mileage)
          - id: api-template
            uri: http://localhost:8081
            predicates:
              - Path=/api/v1/template/**
          # API PDF Service
          - id: api-pdf
            uri: http://localhost:8082
            predicates:
              - Path=/api/v1/pdf/**
          # API Docling Service
          - id: api-docling
            uri: http://localhost:8083
            predicates:
              - Path=/api/v1/docling/**
        default-filters:
          - name: RequestRateLimiter
            args:
              redis-rate-limiter.replenishRate: 100
              redis-rate-limiter.burstCapacity: 200
              key-resolver: "#{@userKeyResolver}"

  cache:
    type: caffeine
    caffeine:
      spec: maximumSize=1000,expireAfterWrite=1h

management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
    info:
      enabled: true

# API Key Configuration
# Pepper moved to profile-specific files (dev/prod)
# See application-dev.yaml and application-prod.yaml
